<head>
  <meta http-equiv="content-type" content="text/html; charset=utf-8" />
  <style type="text/css">
        div.bar {
          display: inline-block;
          width: 20px;
          height: 75px; /* Gets overriden by D3-assigned height below */
          margin-right: 2px;
          background-color: teal;
        }
  </style>
  <title>{{title}}</title>
</head>

<div class="header">
  <ul class="nav nav-pills pull-right">
    <li class="active"><a ng-href="/">Home</a></li>
    <li><a ng-href="#/confs">Confs</a></li>
    <li><a ng-href="#">Contact</a></li>
  </ul>
  <h3 class="text-muted">ancor dashboard {{version}}</h3>
</div>

<!-- <div class="jumbotron"> -->
<!--   <h1>ANCOR Network</h1> -->
<!--   <p class="lead"> -->
<!--     <img src="images/ancor.png" alt="I'm Yeoman" height="140" width="128"><br> -->
<!--   </p> -->
<!--   <p><a class="btn btn-lg btn-success" ng-href="#">Splendid!</a></p> -->
<!-- </div> -->

<div class="row text-center">
  <div class="col-md-4">
    <h1 class="text-primary">{{totalInstances}}</h1> Instances
  </div>
  <div class="col-md-4">
    <h1 class="text-success">{{totalDeployed}}</h1> Deployed
  </div>
  <div class="col-md-4">
    <h1 class="text-danger">{{totalUndefined}}</h1> Undefined
  </div>
</div>

<div class="row marketing">
  <h4>Instance State Details</h4>
  <div class="row">
    <!-- <div class="col-md-9"> -->
      <table class="table table-hover">
        <thead>
          <tr>
            <th>Name</th>
            <th>Interface</th>
            <th>Stage</th>
            <th>View</th>
          </tr>
        </thead>
        <tbody>
          <tr ng-repeat="instance in instances">
            <td>{{instance.name}}</td>
            <td>{{instance.interfaces}}</td>
            <td ng-if="instance.stage == 'undefined'">
              <span class="label label-danger">{{instance.stage}}</span>
            </td>
            <td ng-if="instance.stage == 'deploy'">
              <span class="label label-success">{{instance.stage}}</span>
            </td>
            <td>
              <div ng-controller="MainCtrl">
                  <script type="text/ng-template" id="myModalContent.html">
                      <div class="modal-header">
                          <h3>Instance Details</h3>
                      </div>
                      <div class="modal-body">
                          <ul>
                              <li ng-repeat="(key,item) in items">
                                  <a ng-click="selected.item = item">{{key}} - {{ item }}</a>
                              </li>
                          </ul>
                          Selected: <b>{{ selected.item }}</b>
                        <h4>Advanced Details</h4>
                      </div>
                      <div class="modal-footer">
                          <button class="btn btn-primary" ng-click="ok()">OK</button>
                          <button class="btn btn-warning" ng-click="cancel()">Cancel</button>
                      </div>
                  </script>

                  <button class='btn btn-info' ng-click="open(instance)">View</button>
              </div>
            </td>
          </tr>
        </tbody>
      </table>
    <!-- </div> -->
    <div class="col-md-5">
      <!-- <div id="instanceChart">D3 Chart Goes Here</div> -->
    </div>
  </div>

  <h4>BootstrapUI Test</h4>
  <div class="dropdown">
    <button class="btn dropdown-toggle">
      <a class="dropdown-toggle">
        Dropdown
        <span class="caret"></span>
      </a>
    </button>
    <ul class="dropdown-menu">
      <li ng-repeat="thing in awesomeThings">
        <a>{{thing}}</a>
      </li>
    </ul>
  </div>

  <h4>D3.js Test</h4>
  <div id="chartTest"></div>

  
</div>

<div class="footer">
  <p>Kansas State University | Brian Cain 2014</p>
</div>

<script src="bower_components/d3/d3.js"></script>
<script type="text/javascript">
        var dataset = [5, 15, 10, 25, 20];
        d3.select("#chartTest").selectAll("div")
            .data(dataset)
            .enter()
            .append("div")
            .attr("class", "bar")
            .style("height", function (d) {
                var barHeight = d * 5;
                return barHeight + "px";
            });
</script>
